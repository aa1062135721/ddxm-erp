(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-98c55522"],{"227b":function(t,e,a){"use strict";var l=a("2897"),o=a.n(l);o.a},2897:function(t,e,a){},"397d":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"banner"},[a("div",{staticClass:"container"},[a("div",{staticClass:"title"},[a("el-button",{on:{click:t.addBanner}},[t._v("添加轮播")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","cell-style":{"text-align":"center"}}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"180",align:"center"}}),a("el-table-column",{attrs:{prop:"img",label:"缩略图",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("div",{attrs:{id:"img"}},[a("img",{attrs:{src:t.row.img}})])]}}])}),a("el-table-column",{attrs:{prop:"type",label:"跳转类型",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"url",label:"跳转地址",align:"center"}}),a("el-table-column",{attrs:{prop:"value",label:"跳转参数",align:"center"}}),a("el-table-column",{attrs:{prop:"status",label:"是否禁用",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":2,"active-color":"#1ABC9C","inactive-color":"#ff4949"},on:{change:function(a){return t.isdisable(e.row)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),a("el-table-column",{attrs:{prop:"address",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{color:"#1ABC9C"},attrs:{type:"text",size:"small"},on:{click:function(a){return t.edit(e.row)}}},[t._v("编辑")]),a("el-button",{staticStyle:{color:"#1ABC9C"},attrs:{type:"text",size:"small"},on:{click:function(a){return t.open(e.row)}}},[t._v("删除")])]}}])})],1),a("div",{staticClass:"footer"},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.currentPage,layout:"total, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)]),t.flag?a("div",{staticClass:"editBanner"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("编辑图片")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(e){t.flag=!1}}},[t._v("X")])],1),a("div",{staticClass:"form"},[a("el-form",{ref:"form",attrs:{"label-width":"80px"},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},[a("el-form-item",{attrs:{label:"商品图"}},[a("span",[t._v("只能上传一张")]),a("bannerUpImg",{on:{getImgUrls:t.setImg},model:{value:t.form.imgUrl,callback:function(e){t.$set(t.form,"imgUrl",e)},expression:"form.imgUrl"}})],1),a("el-form-item",{attrs:{label:"轮播类型"}},[[a("el-radio-group",{on:{change:t.change},model:{value:t.form.radio,callback:function(e){t.$set(t.form,"radio",e)},expression:"form.radio"}},[a("el-radio",{attrs:{label:1}},[t._v("不跳转")]),a("el-radio",{attrs:{label:2}},[t._v("跳转外部页面")]),a("el-radio",{attrs:{label:3}},[t._v("跳转内部页面")])],1)]],2),a("el-form-item",{attrs:{label:"轮播位置"}},[[a("el-radio-group",{model:{value:t.form.ad_place,callback:function(e){t.$set(t.form,"ad_place",e)},expression:"form.ad_place"}},[a("el-radio",{attrs:{label:0}},[t._v("上")]),a("el-radio",{attrs:{label:1}},[t._v("下")])],1)]],2),t.rod?a("el-form-item",{attrs:{label:"标题名称"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1):t._e(),t.rod1?a("el-form-item",{attrs:{label:"页面地址"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1):t._e(),t.rod2?a("el-form-item",{attrs:{label:"页面参数"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.form.param,callback:function(e){t.$set(t.form,"param",e)},expression:"form.param"}})],1):t._e(),a("el-form-item",{attrs:{label:"序号"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.form.num,callback:function(e){t.$set(t.form,"num",e)},expression:"form.num"}})],1),a("el-form-item",[a("el-button",{staticStyle:{background:"#1ABC9C",color:"#fff"},on:{click:t.submitEdit}},[t._v("立即提交")]),a("el-button",{attrs:{type:"info"},on:{click:function(e){t.flag=!1}}},[t._v("返回")])],1)],1)],1)])],1):t._e(),t.flag1?a("div",{staticClass:"editBanner"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("添加轮播")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(e){t.flag1=!1}}},[t._v("X")])],1),a("div",{staticClass:"form"},[a("el-form",{ref:"form",attrs:{"label-width":"80px"},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},[a("el-form-item",{attrs:{label:"商品图"}},[a("span",[t._v("只能上传一张")]),a("bannerUpImg",{on:{getImgUrls:t.setImg},model:{value:t.form.imgUrl,callback:function(e){t.$set(t.form,"imgUrl",e)},expression:"form.imgUrl"}})],1),a("el-form-item",{attrs:{label:"轮播类型"}},[[a("el-radio-group",{on:{change:t.change},model:{value:t.form.radio,callback:function(e){t.$set(t.form,"radio",e)},expression:"form.radio"}},[a("el-radio",{attrs:{label:1}},[t._v("不跳转")]),a("el-radio",{attrs:{label:2}},[t._v("跳转外部页面")]),a("el-radio",{attrs:{label:3}},[t._v("跳转内部页面")])],1)]],2),a("el-form-item",{attrs:{label:"轮播位置"}},[[a("el-radio-group",{model:{value:t.form.ad_place,callback:function(e){t.$set(t.form,"ad_place",e)},expression:"form.ad_place"}},[a("el-radio",{attrs:{label:0}},[t._v("上")]),a("el-radio",{attrs:{label:1}},[t._v("下")])],1)]],2),t.rod?a("el-form-item",{attrs:{label:"标题名称"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1):t._e(),t.rod1?a("el-form-item",{attrs:{label:"页面地址"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1):t._e(),t.rod2?a("el-form-item",{attrs:{label:"页面参数"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.form.param,callback:function(e){t.$set(t.form,"param",e)},expression:"form.param"}})],1):t._e(),a("el-form-item",{attrs:{label:"序号"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.form.num,callback:function(e){t.$set(t.form,"num",e)},expression:"form.num"}})],1),a("el-form-item",[a("el-button",{staticStyle:{background:"#1ABC9C",color:"#fff"},on:{click:t.submitAdd}},[t._v("立即提交")]),a("el-button",{attrs:{type:"info"},on:{click:function(e){t.flag1=!1}}},[t._v("返回")])],1)],1)],1)])],1):t._e()],1)])},o=[],r=(a("55dd"),a("072e")),s=a("ade1"),i=(a("470b"),a("3e8f"),{data:function(){return{tableData:[],currentPage:1,total:1,rod:!0,rod1:!1,rod2:!1,flag:!1,flag1:!1,form:{id:"",title:"",imgUrl:"",radio:1,address:"",param:"",num:"",ad_place:0}}},components:{bannerUpImg:s["default"]},methods:{getBannerList:function(){var t=this;Object(r["d"])().then((function(e){console.log(e),t.tableData=e.data.data,t.total=e.data.total}))},isdisable:function(t){var e=this,a={id:t.id,status:t.status};Object(r["e"])(a).then((function(t){200==t.code&&(e.$message({message:t.msg,type:"success"}),e.getBannerList())}))},edit:function(t){var e=this;Object(r["c"])({id:t.id}).then((function(t){console.log(t);var a=t.data;e.form.id=a.id,e.form.title=a.title,e.form.ad_place=a.ad_place,e.form.radio=a.status,e.form.address=a.url,e.form.param=a.value,e.form.num=a.sort})),this.flag=!0},deleteGoods:function(t){var e=this,a={id:t.id};console.log(a),Object(r["b"])(a).then((function(t){200==t.code&&(e.$message({message:t.msg,type:"success"}),e.getBannerList())}))},change:function(t){1==t?(this.rod=!0,this.rod1=!1,this.rod2=!1):2==t?(this.rod=!0,this.rod1=!0,this.rod2=!1):3==t&&(this.rod=!0,this.rod1=!0,this.rod2=!0)},submitEdit:function(){var t=this;console.log(this.form);var e={id:this.form.id,title:this.form.title,type:this.form.radio,thumb:this.form.imgUrl,ad_place:this.form.ad_place};Object(r["c"])(e).then((function(e){200==e.code&&(t.$message({message:e.msg,type:"success"}),t.flag=!1,t.getBannerList())}))},addBanner:function(){this.flag1=!0,this.form.id="",this.form.title="",this.form.address="",this.form.param="",this.form.num=""},submitAdd:function(){var t=this,e={title:this.form.title,type:this.form.radio,thumb:this.form.imgUrl,ad_place:this.form.ad_place,sort:this.form.num,url:this.form.address};console.log(e),Object(r["a"])(e).then((function(e){200==e.code&&(t.flag1=!1,t.$message({message:e.msg,type:"success"}),t.getBannerList(),t.addBanner())}))},setImg:function(t){this.form.imgUrl=t},handleCurrentChange:function(t){var e=this;console.log(t);var a={page:t};Object(r["d"])(a).then((function(t){e.tableData=t.data.data,e.total=t.data.total}))},open:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.deleteGoods(t)})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))}},created:function(){this.getBannerList()}}),n=i,c=(a("227b"),a("2877")),m=Object(c["a"])(n,l,o,!1,null,null,null);e["default"]=m.exports}}]);