(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f79d2884","chunk-d8ea59f4"],{"0e43":function(e,t,a){},"1af6":function(e,t,a){var r=a("63b6");r(r.S,"Array",{isArray:a("9003")})},"1e31":function(e,t,a){"use strict";var r=a("0e43"),o=a.n(r);o.a},"20fd":function(e,t,a){"use strict";var r=a("d9f6"),o=a("aebd");e.exports=function(e,t,a){t in e?r.f(e,t,o(0,a)):e[t]=a}},3702:function(e,t,a){var r=a("481b"),o=a("5168")("iterator"),n=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||n[o]===e)}},"40c3":function(e,t,a){var r=a("6b4c"),o=a("5168")("toStringTag"),n="Arguments"==r(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(a){}};e.exports=function(e){var t,a,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(a=s(t=Object(e),o))?a:n?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},"4ee1":function(e,t,a){var r=a("5168")("iterator"),o=!1;try{var n=[7][r]();n["return"]=function(){o=!0},Array.from(n,(function(){throw 2}))}catch(s){}e.exports=function(e,t){if(!t&&!o)return!1;var a=!1;try{var n=[7],i=n[r]();i.next=function(){return{done:a=!0}},n[r]=function(){return i},e(n)}catch(s){}return a}},"4ff7":function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return n})),a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return l}));var r=a("b775"),o=function(e){return Object(r["a"])({url:"/warehouse/warehouse_manage/getList",method:"post",data:e})},n=function(e){return Object(r["a"])({url:"/system/common/getWarehouse",method:"post",data:e})},s=function(e){return Object(r["a"])({url:"/warehouse/warehouse_manage/add",method:"post",data:e})},i=function(e){return Object(r["a"])({url:"/warehouse/warehouse_manage/del",method:"post",data:e})},l=function(e){return Object(r["a"])({url:"/warehouse/warehouse_manage/edit",method:"post",data:e})}},"549b":function(e,t,a){"use strict";var r=a("d864"),o=a("63b6"),n=a("241e"),s=a("b0dc"),i=a("3702"),l=a("b447"),c=a("20fd"),u=a("7cd6");o(o.S+o.F*!a("4ee1")((function(e){Array.from(e)})),"Array",{from:function(e){var t,a,o,d,p=n(e),f="function"==typeof this?this:Array,g=arguments.length,h=g>1?arguments[1]:void 0,m=void 0!==h,D=0,b=u(p);if(m&&(h=r(h,g>2?arguments[2]:void 0,2)),void 0==b||f==Array&&i(b))for(t=l(p.length),a=new f(t);t>D;D++)c(a,D,m?h(p[D],D):p[D]);else for(d=b.call(p),a=new f;!(o=d.next()).done;D++)c(a,D,m?s(d,h,[o.value,D],!0):o.value);return a.length=D,a}})},"54a1":function(e,t,a){a("6c1c"),a("1654"),e.exports=a("95d5")},"5a65":function(e,t,a){},"75fc":function(e,t,a){"use strict";var r=a("a745"),o=a.n(r);function n(e){if(o()(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}var s=a("774e"),i=a.n(s),l=a("c8bb"),c=a.n(l);function u(e){if(c()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return i()(e)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p(e){return n(e)||u(e)||d()}a.d(t,"a",(function(){return p}))},"774e":function(e,t,a){e.exports=a("d2d5")},"7cd6":function(e,t,a){var r=a("40c3"),o=a("5168")("iterator"),n=a("481b");e.exports=a("584a").getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||n[r(e)]}},"95d5":function(e,t,a){var r=a("40c3"),o=a("5168")("iterator"),n=a("481b");e.exports=a("584a").isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||n.hasOwnProperty(r(t))}},a745:function(e,t,a){e.exports=a("f410")},aa1f:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-cascader",{attrs:{placeholder:e.placeholder,options:e.list,clearable:"",props:{checkStrictly:!0,value:"id",label:"w_name",children:"children"}},on:{change:e.change},model:{value:e.choosesValue,callback:function(t){e.choosesValue=t},expression:"choosesValue"}})},o=[],n=(a("55dd"),a("75fc")),s=a("4ff7"),i={name:"index",props:{placeholder:{type:String,default:"请选择仓库"},value:null},data:function(){return{choosesValue:[],list:[]}},methods:{change:function(){this.$emit("input",this.choosesValue[this.choosesValue.length-1])}},watch:{value:{immediate:!0,handler:function(e){if(e){var t=function e(t,r,o){o.some((function(o){var s=o.children||[];if(o.id===r)return a=t,!0;if(s.length>0){var i=Object(n["a"])(t);return i.push(o.id),e(i,r,s)}}))},a=[];t([],e,this.list),this.choosesValue=[e].concat(Object(n["a"])(a)).sort()}else this.choosesValue=[]}}},beforeCreate:function(){var e=this;Object(s["e"])().then((function(t){200===t.code&&(e.list=t.data)})).catch((function(e){console.log(e)}))}},l=i,c=(a("1e31"),a("2877")),u=Object(c["a"])(l,r,o,!1,null,"1fa4dcec",null);t["default"]=u.exports},b05f:function(e,t,a){"use strict";var r=a("5a65"),o=a.n(r);o.a},b0dc:function(e,t,a){var r=a("e4ae");e.exports=function(e,t,a,o){try{return o?t(r(a)[0],a[1]):t(a)}catch(s){var n=e["return"];throw void 0!==n&&r(n.call(e)),s}}},b775:function(e,t,a){"use strict";var r,o=a("bc3a"),n=a.n(o),s=a("5c96"),i=a("4360"),l=n.a.create({baseURL:"http://ddxm661.com:8088",timeout:5e3});l.interceptors.request.use((function(e){return r=s["Loading"].service({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),e}),(function(e){return console.log(e),Promise.reject()})),l.interceptors.response.use((function(e){if(r.close(),200===e.status)return-1==e.data.code&&(i["a"].commit("setUserInfo",{}),window.localStorage.removeItem("router"),window.location.href="#/login",setTimeout((function(){window.location.reload()}),150)),200!=e.data.code&&(s["Message"].closeAll(),Object(s["Message"])({message:e.data.msg,type:"error"})),e.data;Promise.reject()}),(function(e){return r.close(),console.log(e),Promise.reject()})),t["a"]=l},badc:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("仓库管理")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"search-div"},[a("el-input",{staticClass:"my-input",attrs:{placeholder:"仓库名",clearable:""},model:{value:e.requestData.seach_val,callback:function(t){e.$set(e.requestData,"seach_val",t)},expression:"requestData.seach_val"}}),a("el-button",{attrs:{type:"primary"},on:{click:e.getList}},[e._v("查询")]),e.$_has("add")?a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.addDialog.isShow=!0}}},[e._v("新增")]):e._e()],1),a("div",{staticStyle:{margin:"40px 0"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.responseData.data,"row-key":"id",border:"","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),a("el-table-column",{attrs:{prop:"w_name",label:"仓库名"}}),a("el-table-column",{attrs:{prop:"w_address",label:"仓库地址"}}),a("el-table-column",{attrs:{prop:"w_contacts",label:"仓库联系人"}}),a("el-table-column",{attrs:{prop:"w_contacts_phone",label:"仓库联系方式"}}),a("el-table-column",{attrs:{prop:"update_time",label:"更新时间"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.$_has("edit")?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.myEditDialogShow(t.row)}}},[e._v("编辑")]):e._e(),e.$_has("del")?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.myDelete(t.row)}}},[e._v("删除")]):e._e()]}}])})],1)],1),a("div",[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.responseData.total},on:{"current-change":e.handleCurrentChange}})],1)]),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"新增仓库",center:"",visible:e.addDialog.isShow,width:"30%"},on:{"update:visible":function(t){return e.$set(e.addDialog,"isShow",t)}}},[a("el-form",{ref:"addDialog",attrs:{"label-width":"100px",model:e.addDialog.requestData,rules:e.addDialog.rules}},[a("el-form-item",{attrs:{label:"父级仓库",prop:"pid"}},[e.addDialog.isShow?a("depot",{ref:"depot",attrs:{placeholder:"不选为顶级仓库"},model:{value:e.addDialog.requestData.pid,callback:function(t){e.$set(e.addDialog.requestData,"pid",t)},expression:"addDialog.requestData.pid"}}):e._e()],1),a("el-form-item",{attrs:{label:"仓库名字",prop:"w_name"}},[a("el-input",{staticClass:"my-input",attrs:{placeholder:"请输入仓库名字"},model:{value:e.addDialog.requestData.w_name,callback:function(t){e.$set(e.addDialog.requestData,"w_name",t)},expression:"addDialog.requestData.w_name"}})],1),a("el-form-item",{attrs:{label:"联系人名字",prop:"w_contacts"}},[a("el-input",{staticClass:"my-input",attrs:{placeholder:"请输入仓库联系人名字"},model:{value:e.addDialog.requestData.w_contacts,callback:function(t){e.$set(e.addDialog.requestData,"w_contacts",t)},expression:"addDialog.requestData.w_contacts"}})],1),a("el-form-item",{attrs:{label:"联系人电话",prop:"w_contacts_phone"}},[a("el-input",{staticClass:"my-input",attrs:{placeholder:"请输入仓库联系人电话"},model:{value:e.addDialog.requestData.w_contacts_phone,callback:function(t){e.$set(e.addDialog.requestData,"w_contacts_phone",t)},expression:"addDialog.requestData.w_contacts_phone"}})],1),a("el-form-item",{attrs:{label:"仓库地址",prop:"w_address"}},[a("el-input",{staticClass:"my-input",attrs:{placeholder:"请输入仓库地址"},model:{value:e.addDialog.requestData.w_address,callback:function(t){e.$set(e.addDialog.requestData,"w_address",t)},expression:"addDialog.requestData.w_address"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"desc"}},[a("el-input",{staticClass:"my-input",attrs:{placeholder:"请输入备注信息"},model:{value:e.addDialog.requestData.desc,callback:function(t){e.$set(e.addDialog.requestData,"desc",t)},expression:"addDialog.requestData.desc"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addDialogSubmit("addDialog")}}},[e._v("提交")])],1)],1)],1),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"编辑仓库",center:"",visible:e.editDialog.isShow,width:"30%"},on:{"update:visible":function(t){return e.$set(e.editDialog,"isShow",t)}}},[a("el-form",{ref:"editDialog",attrs:{"label-width":"100px",model:e.editDialog.requestData,rules:e.editDialog.rules}},[a("el-form-item",{attrs:{label:"仓库名字",prop:"w_name"}},[a("el-input",{staticClass:"my-input",attrs:{placeholder:"请输入仓库名字"},model:{value:e.editDialog.requestData.w_name,callback:function(t){e.$set(e.editDialog.requestData,"w_name",t)},expression:"editDialog.requestData.w_name"}})],1),a("el-form-item",{attrs:{label:"联系人名字",prop:"w_contacts"}},[a("el-input",{staticClass:"my-input",attrs:{placeholder:"请输入仓库联系人名字"},model:{value:e.editDialog.requestData.w_contacts,callback:function(t){e.$set(e.editDialog.requestData,"w_contacts",t)},expression:"editDialog.requestData.w_contacts"}})],1),a("el-form-item",{attrs:{label:"联系人电话",prop:"w_contacts_phone"}},[a("el-input",{staticClass:"my-input",attrs:{placeholder:"请输入仓库联系人电话"},model:{value:e.editDialog.requestData.w_contacts_phone,callback:function(t){e.$set(e.editDialog.requestData,"w_contacts_phone",t)},expression:"editDialog.requestData.w_contacts_phone"}})],1),a("el-form-item",{attrs:{label:"仓库地址",prop:"w_address"}},[a("el-input",{staticClass:"my-input",attrs:{placeholder:"请输入仓库地址"},model:{value:e.editDialog.requestData.w_address,callback:function(t){e.$set(e.editDialog.requestData,"w_address",t)},expression:"editDialog.requestData.w_address"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"desc"}},[a("el-input",{staticClass:"my-input",attrs:{placeholder:"请输入备注信息"},model:{value:e.editDialog.requestData.desc,callback:function(t){e.$set(e.editDialog.requestData,"desc",t)},expression:"editDialog.requestData.desc"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editDialogSubmit("editDialog")}}},[e._v("修改")])],1)],1)],1)],1)},o=[],n=a("4ff7"),s=a("aa1f"),i={name:"index",data:function(){return{responseData:{total:0,per_page:10,current_page:1,last_page:1,data:[]},requestData:{page:1,seach_val:""},addDialog:{isShow:!1,rules:{w_name:[{required:!0,message:"请输入仓库名",trigger:"blur"}],w_contacts:[{required:!0,message:"请输入仓库联系人名",trigger:"blur"}],w_contacts_phone:[{required:!0,message:"请输入仓库联系人电话",trigger:"blur"}],w_address:[{required:!0,message:"请输入仓库地址",trigger:"blur"}]},requestData:{w_name:"",w_contacts:"",w_contacts_phone:"",w_address:"",desc:"",pid:0,w_level:0}},editDialog:{isShow:!1,rules:{w_name:[{required:!0,message:"请输入仓库名",trigger:"blur"}],w_contacts:[{required:!0,message:"请输入仓库联系人名",trigger:"blur"}],w_contacts_phone:[{required:!0,message:"请输入仓库联系人电话",trigger:"blur"}],w_address:[{required:!0,message:"请输入仓库地址",trigger:"blur"}]},requestData:{id:"",w_name:"",w_contacts:"",w_contacts_phone:"",w_address:"",desc:""}}}},methods:{resetForm:function(e){this.$refs[e].resetFields()},addDialogSubmit:function(e){var t=this,a=null;function r(e,t){t.some((function(t){var o=t.children||[];return t.id===e?(a=t,!0):o.length>0?r(e,o):void 0}))}r(this.addDialog.requestData.pid,this.$refs["depot"].list),a&&(this.addDialog.requestData.w_level=a.w_level),this.$refs[e].validate((function(a){if(!a)return!1;Object(n["a"])(t.addDialog.requestData).then((function(a){200===a.code&&(t.resetForm(e),t.addDialog.isShow=!1,t.getList(),t.$message.success("新增成功！"))})).catch((function(e){console.log(e)}))}))},getList:function(){var e=this;Object(n["d"])(this.requestData).then((function(t){200===t.code&&(e.responseData=t.data)})).catch((function(e){console.log(e)}))},myDelete:function(e){var t=this,a={id:e.id};this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(n["b"])(a).then((function(e){200===e.code&&(t.getList(),t.$message({type:"success",message:"删除成功!"}))})).catch((function(e){console.log(e),t.$message.error("操作失败")}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},myEditDialogShow:function(e){this.editDialog.requestData.id=e.id,this.editDialog.requestData.w_name=e.w_name,this.editDialog.requestData.w_contacts=e.w_contacts,this.editDialog.requestData.w_contacts_phone=e.w_contacts_phone,this.editDialog.requestData.w_address=e.w_address,this.editDialog.requestData.desc=e.desc,this.editDialog.isShow=!0},editDialogSubmit:function(e){var t=this;this.$refs[e].validate((function(a){if(!a)return!1;Object(n["c"])(t.editDialog.requestData).then((function(a){200===a.code&&(t.resetForm(e),t.editDialog.isShow=!1,t.getList(),t.$message.success("修改成功"))})).catch((function(e){console.log(e)}))}))},handleCurrentChange:function(e){this.requestData.page=e,this.getList()}},components:{depot:s["default"]},created:function(){this.getList()}},l=i,c=(a("b05f"),a("2877")),u=Object(c["a"])(l,r,o,!1,null,"d4b26624",null);t["default"]=u.exports},c8bb:function(e,t,a){e.exports=a("54a1")},d2d5:function(e,t,a){a("1654"),a("549b"),e.exports=a("584a").Array.from},f410:function(e,t,a){a("1af6"),e.exports=a("584a").Array.isArray}}]);