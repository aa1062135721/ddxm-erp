(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f2eed046"],{"1af6":function(t,e,n){var r=n("63b6");r(r.S,"Array",{isArray:n("9003")})},"20fd":function(t,e,n){"use strict";var r=n("d9f6"),o=n("aebd");t.exports=function(t,e,n){e in t?r.f(t,e,o(0,n)):t[e]=n}},"287d":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"crumbs"},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",[t._v("员工权限管理")])],1)],1),n("div",{staticClass:"container"},[n("el-checkbox-group",{model:{value:t.choosesValue,callback:function(e){t.choosesValue=e},expression:"choosesValue"}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.responseData,"row-key":"id",border:"","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[n("el-table-column",{attrs:{label:"菜单列表"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(e.row.a_name)+"\n                    ")]}}])}),n("el-table-column",{attrs:{label:"选择权限"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-checkbox",{attrs:{label:e.row.id},on:{change:function(n){return t.routerAuth(e.row.id,n)}}},[t._v("选择")])]}}])})],1)],1),n("div",{staticStyle:{"margin-top":"40px"}},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.saveAuth()}}},[t._v("保存")])],1)],1)])},o=[],a=(n("ac6a"),n("5df3"),n("4f7f"),n("75fc")),i=n("76bb"),c={name:"auth",data:function(){return{responseData:[],choosesValue:[]}},methods:{getList:function(){var t=this,e={role_id:this.$route.query.admin_id_role_id,admin_id:this.$route.query.admin_id,type:0};Object(i["f"])(e).then((function(e){200===e.code&&(t.choosesValue=e.data.is_set,t.responseData=e.data.router)})).catch((function(t){console.log(t)}))},saveAuth:function(){var t=this,e={ids:this.choosesValue.join(","),role_id:this.$route.query.admin_id_role_id,admin_id:this.$route.query.admin_id,type:1};Object(i["f"])(e).then((function(e){200===e.code&&(t.$message.success("保存成功！"),t.getList())})).catch((function(t){console.log(t)}))},routerAuth:function(t,e){if(e){var n=function t(e,n,o){o.some((function(o){var i=o.children||[];if(o.id===n)return r=e,!0;if(i.length>0){var c=Object(a["a"])(e);return c.push(o.id),t(c,n,i)}}))};console.log("选中的id:",t);var r=[];n([],t,this.responseData);var o=[].concat(Object(a["a"])(this.choosesValue),Object(a["a"])(r));this.choosesValue=Object(a["a"])(new Set(o))}else{var i,c=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map((function(e){e.children&&e.children.length&&t(e.children,n),n.push(e.id)})),n};console.log("取消选中id:",t);var u=function t(e,n){e.forEach((function(e){if(e.id===n)return i=e,e;e.children&&e.children.length&&t(e.children,n)}))};u(this.responseData,t),console.log("取消选择本节点及其后面点所有节点：",i);var s=c([i],[]),d=this.choosesValue.filter((function(t){return-1===s.indexOf(t)}));this.choosesValue=Object(a["a"])(new Set(d))}}},mounted:function(){this.getList()},watch:{$route:{handler:function(t,e){t.query.admin_id_role_id&&t.query.admin_id&&this.getList()},deep:!0}}},u=c,s=n("2877"),d=Object(s["a"])(u,r,o,!1,null,"a901f886",null);e["default"]=d.exports},3702:function(t,e,n){var r=n("481b"),o=n("5168")("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[o]===t)}},"40c3":function(t,e,n){var r=n("6b4c"),o=n("5168")("toStringTag"),a="Arguments"==r(function(){return arguments}()),i=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=i(e=Object(t),o))?n:a?r(e):"Object"==(c=r(e))&&"function"==typeof e.callee?"Arguments":c}},"4ee1":function(t,e,n){var r=n("5168")("iterator"),o=!1;try{var a=[7][r]();a["return"]=function(){o=!0},Array.from(a,(function(){throw 2}))}catch(i){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var a=[7],c=a[r]();c.next=function(){return{done:n=!0}},a[r]=function(){return c},t(a)}catch(i){}return n}},"549b":function(t,e,n){"use strict";var r=n("d864"),o=n("63b6"),a=n("241e"),i=n("b0dc"),c=n("3702"),u=n("b447"),s=n("20fd"),d=n("7cd6");o(o.S+o.F*!n("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,o,f,l=a(t),h="function"==typeof this?this:Array,b=arguments.length,m=b>1?arguments[1]:void 0,p=void 0!==m,v=0,g=d(l);if(p&&(m=r(m,b>2?arguments[2]:void 0,2)),void 0==g||h==Array&&c(g))for(e=u(l.length),n=new h(e);e>v;v++)s(n,v,p?m(l[v],v):l[v]);else for(f=g.call(l),n=new h;!(o=f.next()).done;v++)s(n,v,p?i(f,m,[o.value,v],!0):o.value);return n.length=v,n}})},"54a1":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("95d5")},"75fc":function(t,e,n){"use strict";var r=n("a745"),o=n.n(r);function a(t){if(o()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var i=n("774e"),c=n.n(i),u=n("c8bb"),s=n.n(u);function d(t){if(s()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return c()(t)}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(t){return a(t)||d(t)||f()}n.d(e,"a",(function(){return l}))},"76bb":function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return u})),n.d(e,"f",(function(){return s}));var r=n("b775"),o=function(t){return Object(r["a"])({url:"/auth/admin_manage/getList",method:"post",data:t})},a=function(t){return Object(r["a"])({url:"/auth/admin_manage/add",method:"post",data:t})},i=function(t){return Object(r["a"])({url:"/auth/admin_manage/edit",method:"post",data:t})},c=function(t){return Object(r["a"])({url:"/auth/admin_manage/del",method:"post",data:t})},u=function(t){return Object(r["a"])({url:"/auth/admin_manage/isSwitch",method:"post",data:t})},s=function(t){return Object(r["a"])({url:"/auth/admin_manage/setAuth",method:"post",data:t})}},"774e":function(t,e,n){t.exports=n("d2d5")},"7cd6":function(t,e,n){var r=n("40c3"),o=n("5168")("iterator"),a=n("481b");t.exports=n("584a").getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||a[r(t)]}},"95d5":function(t,e,n){var r=n("40c3"),o=n("5168")("iterator"),a=n("481b");t.exports=n("584a").isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||a.hasOwnProperty(r(e))}},a745:function(t,e,n){t.exports=n("f410")},b0dc:function(t,e,n){var r=n("e4ae");t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(i){var a=t["return"];throw void 0!==a&&r(a.call(t)),i}}},b775:function(t,e,n){"use strict";var r,o=n("bc3a"),a=n.n(o),i=n("5c96"),c=n("4360"),u=a.a.create({baseURL:"http://ddxm661.com:8088",timeout:3e3});u.interceptors.request.use((function(t){return r=i["Loading"].service({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),"/api"===t.baseURL&&(t.baseURL="http://testadmin2.ddxm661.com"),t}),(function(t){return Promise.reject(t)})),u.interceptors.response.use((function(t){if(r.close(),200===t.status)return-1==t.data.code&&(c["a"].commit("setUserInfo",{}),window.localStorage.removeItem("router"),window.location.href="#/login",setTimeout((function(){window.location.reload()}),150)),200!=t.data.code&&(i["Message"].closeAll(),Object(i["Message"])({message:t.data.msg,type:"error"})),t.data;Promise.reject()}),(function(t){return r.close(),Promise.reject(t)})),e["a"]=u},c8bb:function(t,e,n){t.exports=n("54a1")},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray}}]);