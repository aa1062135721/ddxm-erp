(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d43a88e"],{"65f6":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"upload-info"},[o("div",[o("el-upload",{staticClass:"upload-pic",attrs:{"list-type":"picture-card",action:t.domain,data:t.QiniuData,"on-remove":t.handleRemove,"on-success":t.uploadSuccess,"before-upload":t.beforeAvatarUpload,multiple:!1,"file-list":t.fileList}},[o("i",{staticClass:"el-icon-plus"})])],1)])},a=[],r=(o("7f7f"),o("b26e")),i={data:function(){return{loading:!0,QiniuData:{key:"",token:""},domain:"https://upload-z2.qiniup.com",qiniuaddr:"",fileList:[]}},mounted:function(){this.getQiniuToken()},methods:{handleRemove:function(t,e){var o=this,n=[];e.map((function(t){n.push("".concat(o.qiniuaddr).concat(t.response.key))})),this.$emit("getImgUrls",n)},beforeAvatarUpload:function(t){var e="image/png"===t.type,o="image/jpeg"===t.type,n="image/jpg"===t.type,a=t.size/1024/1024<2;return e||o||n?a?void(this.QiniuData.key=(new Date).getTime()+"_upload_"+Math.floor(100*Math.random())+"_"+t.name):(this.$message.error("上传头像图片大小不能超过 2MB!"),!1):(this.$message.error("上传头像图片只能是 jpg、png、jpeg 格式!"),!1)},uploadSuccess:function(t,e,o){var n=this;console.log(t,e,o);var a=[];o.map((function(t){a.push("".concat(n.qiniuaddr).concat(t.response.key))})),this.$emit("getImgUrls",a)},getQiniuToken:function(){var t=this;Object(r["g"])().then((function(e){200===e.code&&(t.QiniuData.token=e.data.token,t.qiniuaddr=e.data.domain)})).catch((function(t){}))}}},s=i,u=o("2877"),c=Object(u["a"])(s,n,a,!1,null,null,null);e["default"]=c.exports},b26e:function(t,e,o){"use strict";o.d(e,"f",(function(){return a})),o.d(e,"g",(function(){return r})),o.d(e,"e",(function(){return i})),o.d(e,"a",(function(){return s})),o.d(e,"b",(function(){return u})),o.d(e,"c",(function(){return c})),o.d(e,"i",(function(){return d})),o.d(e,"h",(function(){return l})),o.d(e,"d",(function(){return m}));var n=o("b775"),a=function(t){return Object(n["a"])({url:"/system/common/getAllGoods",method:"get",params:t})},r=function(t){return Object(n["a"])({url:"/system/Common/getQiNiuToken",method:"get",params:t})},i=function(t){return Object(n["a"])({url:"/goods/goods_brand/getList",method:"post",params:t})},s=function(t){return Object(n["a"])({url:"/goods/goods_brand/add",method:"post",params:t})},u=function(t){return Object(n["a"])({url:"/goods/goods_brand/del",method:"post",params:t})},c=function(t){return Object(n["a"])({url:"/goods/goods_brand/edit",method:"post",params:t})},d=function(t){return Object(n["a"])({url:"/goods/goods_resource/getList",method:"post",params:t})},l=function(t){return Object(n["a"])({url:"/goods/goods_resource/del",method:"post",params:t})},m=function(t){return Object(n["a"])({url:"/system/common/findChilds",method:"post",params:t})}},b775:function(t,e,o){"use strict";var n,a=o("bc3a"),r=o.n(a),i=o("5c96"),s=o("4360"),u=r.a.create({baseURL:"http://ddxm661.com:8088",timeout:3e3});u.interceptors.request.use((function(t){return n=i["Loading"].service({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),"/api"===t.baseURL&&(t.baseURL="http://testadmin2.ddxm661.com"),t}),(function(t){return Promise.reject(t)})),u.interceptors.response.use((function(t){if(n.close(),200===t.status)return-1==t.data.code&&(s["a"].commit("setUserInfo",{}),window.localStorage.removeItem("router"),window.location.href="#/login",setTimeout((function(){window.location.reload()}),150)),200!=t.data.code&&(i["Message"].closeAll(),Object(i["Message"])({message:t.data.msg,type:"error"})),t.data;Promise.reject()}),(function(t){return n.close(),Promise.reject(t)})),e["a"]=u}}]);