(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35be5717","chunk-d8ea59f4"],{"0e43":function(t,e,o){},"168b":function(t,e,o){},"1af6":function(t,e,o){var a=o("63b6");a(a.S,"Array",{isArray:o("9003")})},"1e31":function(t,e,o){"use strict";var a=o("0e43"),n=o.n(a);n.a},"20fd":function(t,e,o){"use strict";var a=o("d9f6"),n=o("aebd");t.exports=function(t,e,o){e in t?a.f(t,e,n(0,o)):t[e]=o}},3702:function(t,e,o){var a=o("481b"),n=o("5168")("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(a.Array===t||s[n]===t)}},"40c3":function(t,e,o){var a=o("6b4c"),n=o("5168")("toStringTag"),s="Arguments"==a(function(){return arguments}()),r=function(t,e){try{return t[e]}catch(o){}};t.exports=function(t){var e,o,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(o=r(e=Object(t),n))?o:s?a(e):"Object"==(i=a(e))&&"function"==typeof e.callee?"Arguments":i}},"4ee1":function(t,e,o){var a=o("5168")("iterator"),n=!1;try{var s=[7][a]();s["return"]=function(){n=!0},Array.from(s,(function(){throw 2}))}catch(r){}t.exports=function(t,e){if(!e&&!n)return!1;var o=!1;try{var s=[7],i=s[a]();i.next=function(){return{done:o=!0}},s[a]=function(){return i},t(s)}catch(r){}return o}},"4ff7":function(t,e,o){"use strict";o.d(e,"d",(function(){return n})),o.d(e,"e",(function(){return s})),o.d(e,"a",(function(){return r})),o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return c}));var a=o("b775"),n=function(t){return Object(a["a"])({url:"/warehouse/warehouse_manage/getList",method:"post",data:t})},s=function(t){return Object(a["a"])({url:"/system/common/getWarehouse",method:"post",data:t})},r=function(t){return Object(a["a"])({url:"/warehouse/warehouse_manage/add",method:"post",data:t})},i=function(t){return Object(a["a"])({url:"/warehouse/warehouse_manage/del",method:"post",data:t})},c=function(t){return Object(a["a"])({url:"/warehouse/warehouse_manage/edit",method:"post",data:t})}},"549b":function(t,e,o){"use strict";var a=o("d864"),n=o("63b6"),s=o("241e"),r=o("b0dc"),i=o("3702"),c=o("b447"),u=o("20fd"),l=o("7cd6");n(n.S+n.F*!o("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var e,o,n,d,g=s(t),f="function"==typeof this?this:Array,h=arguments.length,p=h>1?arguments[1]:void 0,b=void 0!==p,m=0,v=l(g);if(b&&(p=a(p,h>2?arguments[2]:void 0,2)),void 0==v||f==Array&&i(v))for(e=c(g.length),o=new f(e);e>m;m++)u(o,m,b?p(g[m],m):g[m]);else for(d=v.call(g),o=new f;!(n=d.next()).done;m++)u(o,m,b?r(d,p,[n.value,m],!0):n.value);return o.length=m,o}})},"54a1":function(t,e,o){o("6c1c"),o("1654"),t.exports=o("95d5")},"75fc":function(t,e,o){"use strict";var a=o("a745"),n=o.n(a);function s(t){if(n()(t)){for(var e=0,o=new Array(t.length);e<t.length;e++)o[e]=t[e];return o}}var r=o("774e"),i=o.n(r),c=o("c8bb"),u=o.n(c);function l(t){if(u()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return i()(t)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function g(t){return s(t)||l(t)||d()}o.d(e,"a",(function(){return g}))},"774e":function(t,e,o){t.exports=o("d2d5")},"7cd6":function(t,e,o){var a=o("40c3"),n=o("5168")("iterator"),s=o("481b");t.exports=o("584a").getIteratorMethod=function(t){if(void 0!=t)return t[n]||t["@@iterator"]||s[a(t)]}},"95d5":function(t,e,o){var a=o("40c3"),n=o("5168")("iterator"),s=o("481b");t.exports=o("584a").isIterable=function(t){var e=Object(t);return void 0!==e[n]||"@@iterator"in e||s.hasOwnProperty(a(e))}},a745:function(t,e,o){t.exports=o("f410")},aa1f:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-cascader",{attrs:{placeholder:t.placeholder,options:t.list,clearable:"",props:{checkStrictly:!0,value:"id",label:"w_name",children:"children"}},on:{change:t.change},model:{value:t.choosesValue,callback:function(e){t.choosesValue=e},expression:"choosesValue"}})},n=[],s=(o("55dd"),o("75fc")),r=o("4ff7"),i={name:"index",props:{placeholder:{type:String,default:"请选择仓库"},value:null},data:function(){return{choosesValue:[],list:[]}},methods:{change:function(){this.$emit("input",this.choosesValue[this.choosesValue.length-1])}},watch:{value:{immediate:!0,handler:function(t){if(t){var e=function t(e,a,n){n.some((function(n){var r=n.children||[];if(n.id===a)return o=e,!0;if(r.length>0){var i=Object(s["a"])(e);return i.push(n.id),t(i,a,r)}}))},o=[];e([],t,this.list),this.choosesValue=[t].concat(Object(s["a"])(o)).sort()}else this.choosesValue=[]}}},beforeCreate:function(){var t=this;Object(r["e"])().then((function(e){200===e.code&&(t.list=e.data)})).catch((function(t){console.log(t)}))}},c=i,u=(o("1e31"),o("2877")),l=Object(u["a"])(c,a,n,!1,null,"1fa4dcec",null);e["default"]=l.exports},b0dc:function(t,e,o){var a=o("e4ae");t.exports=function(t,e,o,n){try{return n?e(a(o)[0],o[1]):e(o)}catch(r){var s=t["return"];throw void 0!==s&&a(s.call(t)),r}}},b775:function(t,e,o){"use strict";var a,n=o("bc3a"),s=o.n(n),r=o("5c96"),i=o("4360"),c=s.a.create({baseURL:"http://ddxm661.com:8088",timeout:5e3});c.interceptors.request.use((function(t){return a=r["Loading"].service({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),t}),(function(t){return console.log(t),Promise.reject()})),c.interceptors.response.use((function(t){if(a.close(),200===t.status)return-1==t.data.code&&(i["a"].commit("setUserInfo",{}),window.localStorage.removeItem("router"),window.location.href="#/login",setTimeout((function(){window.location.reload()}),150)),200!=t.data.code&&(r["Message"].closeAll(),Object(r["Message"])({message:t.data.msg,type:"error"})),t.data;Promise.reject()}),(function(t){return a.close(),console.log(t),Promise.reject()})),e["a"]=c},c01d:function(t,e,o){"use strict";var a=o("168b"),n=o.n(a);n.a},c8bb:function(t,e,o){t.exports=o("54a1")},ce24:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"crumbs"},[o("el-breadcrumb",{attrs:{separator:"/"}},[o("el-breadcrumb-item",[t._v("库存查询")])],1)],1),o("div",{staticClass:"container"},[o("div",{staticClass:"search-div"},[o("el-input",{staticClass:"my-input",attrs:{placeholder:"商品名/条形码",clearable:""},model:{value:t.requestData.seach_val,callback:function(e){t.$set(t.requestData,"seach_val",e)},expression:"requestData.seach_val"}}),o("el-button",{attrs:{type:"primary"},on:{click:t.getList}},[t._v("查询")]),t.$_has("export")?o("el-button",{attrs:{type:"primary",plain:""},on:{click:t.myExport}},[t._v("导出")]):t._e()],1),o("div",{staticStyle:{margin:"40px 0"}},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.responseData.data}},[o("el-table-column",{attrs:{prop:"w_name",label:"仓库"}}),o("el-table-column",{attrs:{prop:"g_code",label:"条形码"}}),o("el-table-column",{attrs:{prop:"g_title",label:"商品名"}}),o("el-table-column",{attrs:{label:"图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[o("el-image",{staticClass:"table-td-thumb",attrs:{src:t.row.gr_url[0],"preview-src-list":t.row.gr_url}})]}}])}),o("el-table-column",{attrs:{prop:"key_name",label:"规格"}}),o("el-table-column",{attrs:{prop:"w_stock",label:"库存"}}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.$_has("costLocus")?o("el-button",{attrs:{type:"text"},on:{click:function(o){return t.goodsCostLocusDialogShow(e.row)}}},[t._v("商品成本轨迹")]):t._e(),t.$_has("goodsLocus")?o("el-button",{attrs:{type:"text"},on:{click:function(o){return t.goodsLocusDialogShow(e.row)}}},[t._v("商品轨迹")]):t._e()]}}])})],1)],1),o("div",[o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.responseData.total},on:{"current-change":t.handleCurrentChange}})],1)]),o("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:t.goodsCostLocusDialog.goods_name+"的成本轨迹",center:"",width:"30%",visible:t.goodsCostLocusDialog.isShow},on:{"update:visible":function(e){return t.$set(t.goodsCostLocusDialog,"isShow",e)}}},[o("div",{staticStyle:{margin:"40px 0"}},[o("el-table",{staticStyle:{width:"100%"},attrs:{height:"300",data:t.goodsCostLocusDialog.responseData.data}},[o("el-table-column",{attrs:{prop:"wpc_cost",label:"成本"}}),o("el-table-column",{attrs:{prop:"create_time",label:"时间"}})],1)],1),o("div",{staticStyle:{"text-align":"center"}},[o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.goodsCostLocusDialog.responseData.total},on:{"current-change":t.goodsCostLocusDialogHandleCurrentChange}})],1)]),o("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:t.goodsLocusDialog.goods_name+"的商品轨迹",center:"",width:"30%",visible:t.goodsLocusDialog.isShow},on:{"update:visible":function(e){return t.$set(t.goodsLocusDialog,"isShow",e)}}},[o("div",{staticStyle:{margin:"40px 0"}},[o("el-table",{staticStyle:{width:"100%"},attrs:{height:"300",data:t.goodsLocusDialog.responseData.data}},[o("el-table-column",{attrs:{prop:"num",label:"数量"}}),o("el-table-column",{attrs:{prop:"type",label:"进入/进出"}}),o("el-table-column",{attrs:{prop:"status",label:"方式"}}),o("el-table-column",{attrs:{prop:"create_time",label:"时间"}})],1)],1),o("div",{staticStyle:{"text-align":"center"}},[o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.goodsLocusDialog.responseData.total},on:{"current-change":t.goodsLocusDialogHandleCurrentChange}})],1)])],1)},n=[],s=o("b775"),r=function(t){return Object(s["a"])({url:"/warehouse/warehouse_select/getList",method:"post",data:t})},i=function(t){return Object(s["a"])({url:"/warehouse/warehouse_select/costLocus",method:"post",data:t})},c=function(t){return Object(s["a"])({url:"/warehouse/warehouse_select/goodsLocus",method:"post",data:t})},u=function(t){return Object(s["a"])({url:"/warehouse/warehouse_select/export",method:"get",data:t})},l=o("aa1f"),d=o("ed08"),g={name:"index",data:function(){return{requestData:{page:1,seach_val:""},responseData:{total:0,data:[]},goodsLocusDialog:{goods_name:"",isShow:!1,requestData:{page:1,limit:10,goods_id:0,specs_key:"",warehouse_id:0},responseData:{total:0,data:[]}},goodsCostLocusDialog:{goods_name:"",isShow:!1,requestData:{page:1,limit:10,goods_id:0,specs_key:"",warehouse_id:0},responseData:{total:0,data:[]}}}},methods:{handleCurrentChange:function(t){this.requestData.page=t,this.getList()},getList:function(){var t=this;r(this.requestData).then((function(e){200===e.code&&(t.responseData=e.data)})).catch((function(t){console.log(t)}))},myExport:function(){u().then((function(t){Object(d["a"])(t,"file.xlsx")}))},goodsLocusDialogShow:function(t){console.log(t),this.goodsLocusDialog.goods_name=t.g_title,this.goodsLocusDialog.requestData={page:1,limit:10,warehouse_id:t.id,goods_id:t.goods_id,specs_key:t.specs_id||""},this.goodsLocusDialogGetList()},goodsLocusDialogGetList:function(){var t=this;c(this.goodsLocusDialog.requestData).then((function(e){200===e.code&&(t.goodsLocusDialog.responseData=e.data,t.goodsLocusDialog.isShow=!0)})).catch((function(t){console.log(t)}))},goodsLocusDialogHandleCurrentChange:function(t){this.goodsLocusDialog.requestData.page=t,this.goodsLocusDialogGetList()},goodsCostLocusDialogShow:function(t){this.goodsCostLocusDialog.goods_name=t.g_title,this.goodsCostLocusDialog.requestData={page:1,limit:10,warehouse_id:t.id,goods_id:t.goods_id,specs_key:t.specs_id||""},this.goodsCostLocusDialogGetList()},goodsCostLocusDialogGetList:function(){var t=this;i(this.goodsCostLocusDialog.requestData).then((function(e){200===e.code&&(t.goodsCostLocusDialog.responseData=e.data,t.goodsCostLocusDialog.isShow=!0)})).catch((function(t){console.log(t)}))},goodsCostLocusDialogHandleCurrentChange:function(t){this.goodsCostLocusDialog.requestData.page=t,this.goodsCostLocusDialogGetList()}},mounted:function(){this.getList()},components:{depot:l["default"]}},f=g,h=(o("c01d"),o("2877")),p=Object(h["a"])(f,a,n,!1,null,"af745e42",null);e["default"]=p.exports},d2d5:function(t,e,o){o("1654"),o("549b"),t.exports=o("584a").Array.from},ed08:function(t,e,o){"use strict";o.d(e,"a",(function(){return a}));var a=function(t,e){var o=window.URL.createObjectURL(new Blob([t])),a=document.createElement("a");a.style.display="none",a.href=o,a.setAttribute("download",e),document.body.appendChild(a),a.click(),setTimeout((function(){document.body.removeChild(a)}),3e3)}},f410:function(t,e,o){o("1af6"),t.exports=o("584a").Array.isArray}}]);