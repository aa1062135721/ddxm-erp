(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03289098"],{"1cbd":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"editSales"},[a("div",{staticClass:"container"},[a("div",{staticClass:"table"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","tooltip-effect":"dark","cell-style":{"text-align":"center"}}},[a("el-table-column",{attrs:{label:"商品ID",width:"120",prop:"id",align:"center"}}),a("el-table-column",{attrs:{label:"商品名称",prop:"g_title",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.items[0].item_name))])]}}])}),a("el-table-column",{attrs:{label:"规格名称",prop:"items",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.items,(function(e,n){return a("div",{key:n},[e.spece_names?a("span",[t._v(t._s(e.specs_names))]):a("span",[t._v("无")])])}))}}])}),a("el-table-column",{attrs:{label:"总库存",prop:"items",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.items,(function(e,n){return a("div",{key:n},[a("span",[t._v(t._s(e.stock))])])}))}}])}),a("el-table-column",{attrs:{label:"销售原价",prop:"items",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.items,(function(e,n){return a("div",{key:n},[a("span",[t._v(t._s(e.old_price))])])}))}}])}),a("el-table-column",{attrs:{label:"限购数量",align:"center",prop:"people_num",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.items,(function(e,n){return a("div",{key:n},[a("el-input",{attrs:{type:"number"},model:{value:e.residue_num,callback:function(a){t.$set(e,"residue_num",a)},expression:"item.residue_num"}})],1)}))}}])}),a("el-table-column",{attrs:{label:"团员价格",align:"center",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.items,(function(e,n){return a("div",{key:n},[a("el-input",{attrs:{type:"number"},model:{value:e.price,callback:function(a){t.$set(e,"price",a)},expression:"item.price"}})],1)}))}}])}),a("el-table-column",{attrs:{label:"团长价格",align:"center",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.items,(function(e,n){return a("div",{key:n},[a("el-input",{attrs:{type:"number"},model:{value:e.commander_price,callback:function(a){t.$set(e,"commander_price",a)},expression:"item.commander_price"}})],1)}))}}])}),a("el-table-column",{attrs:{label:"初始数量",align:"center",prop:"csNum",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.items,(function(e,n){return a("div",{key:n},[a("el-input",{attrs:{type:"number"},model:{value:e.virtually_num,callback:function(a){t.$set(e,"virtually_num",a)},expression:"item.virtually_num"}})],1)}))}}])})],1)],1),a("div",{staticClass:"fromList"},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标签"}},[a("el-input",{staticStyle:{width:"220px"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"成团人员"}},[a("el-input",{staticStyle:{width:"220px"},model:{value:t.form.number,callback:function(e){t.$set(t.form,"number",e)},expression:"form.number"}})],1),a("el-form-item",{attrs:{label:"每人限购"}},[a("el-input",{staticStyle:{width:"220px"},model:{value:t.form.buy,callback:function(e){t.$set(t.form,"buy",e)},expression:"form.buy"}})],1),a("el-form-item",{attrs:{label:"开始时间"}},[[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.form.start_time,callback:function(e){t.$set(t.form,"start_time",e)},expression:"form.start_time"}})]],2),a("el-form-item",{attrs:{label:"结束时间"}},[[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.form.end_time,callback:function(e){t.$set(t.form,"end_time",e)},expression:"form.end_time"}})]],2),a("el-form-item",{attrs:{label:"自动成团"}},[a("el-radio-group",{model:{value:t.form.group,callback:function(e){t.$set(t.form,"group",e)},expression:"form.group"}},[a("el-radio",{attrs:{label:1}},[t._v("自动")]),a("el-radio",{attrs:{label:2}},[t._v("不自动")])],1)],1),a("el-form-item",{attrs:{label:"是否显示"}},[a("el-radio-group",{model:{value:t.form.show,callback:function(e){t.$set(t.form,"show",e)},expression:"form.show"}},[a("el-radio",{attrs:{label:1}},[t._v("显示")]),a("el-radio",{attrs:{label:2}},[t._v("隐藏")])],1)],1),a("el-form-item",{attrs:{label:"是否免邮"}},[a("el-radio-group",{model:{value:t.form.noMail,callback:function(e){t.$set(t.form,"noMail",e)},expression:"form.noMail"}},[a("el-radio",{attrs:{label:1}},[t._v("是")]),a("el-radio",{attrs:{label:2}},[t._v("否")])],1)],1),a("el-form-item",[a("el-button",{staticStyle:{background:"#1ABC9C",color:"#fff"},on:{click:t.onSubmit}},[t._v("立即提交")])],1)],1)],1)])])},r=[],o=(a("7f7f"),a("ac6a"),a("a5d0")),i={data:function(){return{tableData:[],goodsTable:[],form:{name:"",buy:"",region:"",start_time:"",end_time:"",number:"",show:"",noMail:"",group:""},id:null,flag:!1,item:[]}},methods:{getSpellGroupList:function(){var t=this.$route.query.value;this.tableData.push(t),this.id=t.id,this.form.name=t.title,this.form.number=t.assemble_num,this.form.buy=t.people_num,this.form.group=t.auto,this.form.show=t.status,this.form.start_time=this.endmatDate(t.end_time),this.form.end_time=this.formatDate(t.start_time),this.form.noMail=t.postage_way,console.log("aaa",t)},formatDate:function(t,e){var a=new Date(1e3*parseInt(t)),n=a.getFullYear()+"-",r=a.getMonth()+1<10?"0"+(a.getMonth()+1)+"-":a.getMonth()+1+"-",o=a.getDate()<10?"0"+a.getDate()+" ":a.getDate()+" ",i=a.getHours()<10?"0"+a.getHours()+":":a.getHours()+":",l=a.getMinutes()<10?"0"+a.getMinutes()+":":a.getMinutes()+":",s=a.getSeconds()<10?"0"+a.getSeconds():a.getSeconds();return n+r+o+i+l+s},endmatDate:function(t,e){var a=new Date(1e3*parseInt(t)),n=a.getFullYear()+"-",r=a.getMonth()+1<10?"0"+(a.getMonth()+1)+"-":a.getMonth()+1+"-",o=a.getDate()<10?"0"+a.getDate()+" ":a.getDate()+" ",i=a.getHours()<10?"0"+a.getHours()+":":a.getHours()+":",l=a.getMinutes()<10?"0"+a.getMinutes()+":":a.getMinutes()+":",s=a.getSeconds()<10?"0"+a.getSeconds():a.getSeconds();return n+r+o+i+l+s},onSubmit:function(){var t=this,e=[];this.tableData.forEach((function(t){var a={};t.items.forEach((function(t){a={item_id:t.id,item_name:t.item_name,id:t.id,specs_ids:t.specs_ids,specs_names:t.specs_names,old_price:t.old_price,price:t.price,commander_price:t.commander_price,stock:t.stock,virtually_num:t.virtually_num},e.push(a)}))}));var a={id:this.id,title:this.form.name,people_num:this.form.buy,start_time:this.getTimestamp(this.form.start_time),end_time:this.getTimestamp(this.form.end_time),postage_way:this.form.noMail,status:this.form.show,assemble_num:this.form.number,auto:this.form.group,items:e};Object(o["b"])(a).then((function(e){200==e.code&&t.$message({message:e.msg,type:"success"})}))},getTimestamp:function(t){return new Date(t).getTime()/1e3}},created:function(){this.getSpellGroupList()}},l=i,s=(a("2aed"),a("2877")),u=Object(s["a"])(l,n,r,!1,null,"792d4c0a",null);e["default"]=u.exports},"2aed":function(t,e,a){"use strict";var n=a("5746"),r=a.n(n);r.a},5746:function(t,e,a){},a5d0:function(t,e,a){"use strict";a.d(e,"n",(function(){return r})),a.d(e,"f",(function(){return o})),a.d(e,"e",(function(){return i})),a.d(e,"d",(function(){return l})),a.d(e,"o",(function(){return s})),a.d(e,"c",(function(){return u})),a.d(e,"a",(function(){return c})),a.d(e,"b",(function(){return m})),a.d(e,"m",(function(){return d})),a.d(e,"k",(function(){return f})),a.d(e,"j",(function(){return p})),a.d(e,"l",(function(){return b})),a.d(e,"g",(function(){return g})),a.d(e,"i",(function(){return h})),a.d(e,"h",(function(){return _}));var n=a("b775"),r=function(t){return Object(n["a"])({baseURL:"/api",url:"/api/item/getGoodsList",method:"post",data:t})},o=function(t){return Object(n["a"])({url:"/activity/Seckill/getLIst",method:"post",data:t})},i=function(t){return Object(n["a"])({url:"/activity/Seckill/edit",method:"post",data:t})},l=function(t){return Object(n["a"])({url:"/activity/Seckill/del",method:"post",data:t})},s=function(t){return Object(n["a"])({url:"/activity/Seckill/add",method:"post",data:t})},u=function(t){return Object(n["a"])({url:"/activity/Collage/getList",method:"post",data:t})},c=function(t){return Object(n["a"])({url:"/activity/Collage/add",method:"post",data:t})},m=function(t){return Object(n["a"])({url:"/activity/Collage/edit",method:"post",data:t})},d=function(t){return Object(n["a"])({url:"/activity/flash_sale/getList",method:"post",data:t})},f=function(t){return Object(n["a"])({url:"/activity/flash_sale/del",method:"post",data:t})},p=function(t){return Object(n["a"])({url:"/activity/flash_sale/add",method:"post",data:t})},b=function(t){return Object(n["a"])({url:"/activity/flash_sale/edit",method:"post",data:t})},g=function(t){return Object(n["a"])({url:"/cashout/cashout_mange/getList",method:"post",data:t})},h=function(t){return Object(n["a"])({url:"/cashout/cashout_mange/edit",method:"post",data:t})},_=function(t){return Object(n["a"])({url:"/cashout/cashout_mange/add",method:"post",data:t})}},b775:function(t,e,a){"use strict";var n,r=a("bc3a"),o=a.n(r),i=a("5c96"),l=a("4360"),s=o.a.create({baseURL:"http://ddxm661.com:8088",timeout:3e3});s.interceptors.request.use((function(t){return n=i["Loading"].service({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),"/api"===t.baseURL&&(t.baseURL="http://testadmin2.ddxm661.com"),t}),(function(t){return Promise.reject(t)})),s.interceptors.response.use((function(t){if(n.close(),200===t.status)return-1==t.data.code&&(l["a"].commit("setUserInfo",{}),window.localStorage.removeItem("router"),window.location.href="#/login",setTimeout((function(){window.location.reload()}),150)),200!=t.data.code&&(i["Message"].closeAll(),Object(i["Message"])({message:t.data.msg,type:"error"})),t.data;Promise.reject()}),(function(t){return n.close(),Promise.reject(t)})),e["a"]=s}}]);