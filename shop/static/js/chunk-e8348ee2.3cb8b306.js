(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e8348ee2"],{a2c7:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"upload-info"},[o("div",[o("el-upload",{staticClass:"upload-demo",attrs:{action:e.domain,data:e.QiniuData,"on-remove":e.handleRemove,"on-success":e.uploadSuccess,"before-upload":e.beforeAvatarUpload,multiple:!1,limit:1,"file-list":e.fileList}},[o("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)])},r=[],a=(o("7f7f"),o("b26e")),i={data:function(){return{loading:!0,QiniuData:{key:"",token:""},domain:"https://upload-z2.qiniup.com",qiniuaddr:"",fileList:[]}},mounted:function(){this.getQiniuToken()},methods:{handleRemove:function(e,t){var o=this,n=[];t.map((function(e){n.push("".concat(o.qiniuaddr).concat(e.response.key))})),this.$emit("getImgUrls",n)},beforeAvatarUpload:function(e){var t="image/png"===e.type,o="image/jpeg"===e.type,n="image/jpg"===e.type,r=e.size/1024/1024<2;return t||o||n?r?void(this.QiniuData.key=(new Date).getTime()+"_upload_"+Math.floor(100*Math.random())+"_"+e.name):(this.$message.error("上传头像图片大小不能超过 2MB!"),!1):(this.$message.error("上传头像图片只能是 jpg、png、jpeg 格式!"),!1)},uploadSuccess:function(e,t,o){var n=[];o.map((function(e){n=e.response.key})),this.$emit("getImgUrls",n)},getQiniuToken:function(){var e=this;Object(a["g"])().then((function(t){200===t.code&&(e.QiniuData.token=t.data.token,e.qiniuaddr=t.data.domain)})).catch((function(e){}))}}},s=i,u=o("2877"),c=Object(u["a"])(s,n,r,!1,null,null,null);t["default"]=c.exports},b26e:function(e,t,o){"use strict";o.d(t,"f",(function(){return r})),o.d(t,"g",(function(){return a})),o.d(t,"e",(function(){return i})),o.d(t,"a",(function(){return s})),o.d(t,"b",(function(){return u})),o.d(t,"c",(function(){return c})),o.d(t,"i",(function(){return d})),o.d(t,"h",(function(){return l})),o.d(t,"d",(function(){return m}));var n=o("b775"),r=function(e){return Object(n["a"])({url:"/system/common/getAllGoods",method:"get",params:e})},a=function(e){return Object(n["a"])({url:"/system/Common/getQiNiuToken",method:"get",params:e})},i=function(e){return Object(n["a"])({url:"/goods/goods_brand/getList",method:"post",params:e})},s=function(e){return Object(n["a"])({url:"/goods/goods_brand/add",method:"post",params:e})},u=function(e){return Object(n["a"])({url:"/goods/goods_brand/del",method:"post",params:e})},c=function(e){return Object(n["a"])({url:"/goods/goods_brand/edit",method:"post",params:e})},d=function(e){return Object(n["a"])({url:"/goods/goods_resource/getList",method:"post",params:e})},l=function(e){return Object(n["a"])({url:"/goods/goods_resource/del",method:"post",params:e})},m=function(e){return Object(n["a"])({url:"/system/common/findChilds",method:"post",params:e})}},b775:function(e,t,o){"use strict";var n,r=o("bc3a"),a=o.n(r),i=o("5c96"),s=o("4360"),u=a.a.create({baseURL:"http://ddxm661.com:8088",timeout:5e3});u.interceptors.request.use((function(e){return n=i["Loading"].service({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),e}),(function(e){return console.log(e),Promise.reject()})),u.interceptors.response.use((function(e){if(n.close(),200===e.status)return-1==e.data.code&&(s["a"].commit("setUserInfo",{}),window.localStorage.removeItem("router"),window.location.href="#/login",setTimeout((function(){window.location.reload()}),150)),200!=e.data.code&&(i["Message"].closeAll(),Object(i["Message"])({message:e.data.msg,type:"error"})),e.data;Promise.reject()}),(function(e){return n.close(),console.log(e),Promise.reject()})),t["a"]=u}}]);